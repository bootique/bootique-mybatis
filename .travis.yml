# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master) AND type IN (push) AND repo = bootique/bootique-mybatis
      
# travis encrypt -r bootique/bootique-mybatis "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-mybatis "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "r51gkJKO/cR1kwN3kous1urhbHNir9J5oRRwlwFHChpr9sqwH+5qM9n9FTYYoh0XT49AyKPcZ9g3GlwLxv8wJRYIrBgL0e2ZwY6DLci2YcQuHAoBCr1Y16CrpEDAfc+mosuSMXYqxBNQL8f6i4lkhFgQFwEnZpKaNeRRyoDrnCz2LZJrJmok9VX5lQ6Gw7sOEbQw+eZig5h2JkwkN3sKd+cMUXz9KKwuYNu42Uo1qZqdzdk54YZMLJ3Nag0kRXrluDtvn32sOnqJuvAGHdLPZ5yKZw7SYxX53/zkEc+h1yIAbKGkuGEBnCcnRIpK5uYoQP0euAuqkL3KEvZ2Ke84nv5vOnhgJUkX/dYSoLRhfvLqC7QpAIzF9K1UEuB1UikzTTzovFv9N+fByWhJn7j9WuPKueMg7OAavYs4Ju2femFEg9XuKfAbuK+gaGHu2Y0IubrpU1FgH2koNVS7icWRACt3bWxnMmHlaT4X+WQqwxzfc2FTJaLWFiarnWHjb6m+n5rM2WcJzOlQBQX1/XD1ha30pz6nvE6MGeVsOfCtFwPIaP7SwgxYHibegNhOe+bIO0Cmwg9jwFTxmqW3D4xVm9XstO9/fkNpc/Dndmt3TRJPQO66iX7jjjwnPMmla+rLw1AoabKk1Crp6jTrhQgKDAjb1kSFjResVnSMkS2638E="
    - secure: "HKqWArBnEgV0HjLTKm2P9EHhRH8Od53+ZMao5/MSIOIwHJ2LOPd4dwBPdvBBchBisHVieHFbV+xFPlgT8N0X3LWUpRiIZfAQF2fAQM/ISYh7rA2C5Bh7yLh1gwoVWpLKSC0/DPznt4nb4F0uksnN6Nr8gvu/pUJDQVIDtdLE1ttMcO0259TXU+QHVM+1yi4rd7oUrbbNJFxyuH9j3Prf2+fX8hp0nAkWMAeNpUnbQxoadmz41eGhmiZuxxXAK97S49Q+nzy9dqUNskM3RpFjD4M783IL95jufSWD9hOPE3m/YCzhCmTYxYe7CMBdmp6S0PV4Cs1jTgeJ030D2kXAC9VtSGjFplmtEYukfNYLY4YtbOXk/okWhxuRxcsZ3Jqw9k6w8WuPqfTw+9QTRnuBbVFlMPr4AChl4c8d+P5fEpbPPRtJhWdRg5jJ2Vu7XZXyTZUX2h9nhhownqGJpfgpRhVFDwbZNmj0ncttGjC/8zFhCiLOaZFz9psLnHuw2IKrSem0WOgoefy2UwBuD9UkA/9VNzWPXJHiR2e4imqWoQg6tnj1pSM8BD60L729yo0OOfwVQGdALXwBNb3tCRYEwpb6NnRABiXNdaEubGTiPNuUfoFU2aYvwrKZv1G8ZngtW+gsN7qmJeGbUxDmQCVfqkMzuC8k/2pI8NVzDLzuuMM="